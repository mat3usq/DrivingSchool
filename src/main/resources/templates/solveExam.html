<!DOCTYPE html>
<html lang="pl" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Egzamin</title>

    <link rel="icon" href="/assets/img/logo.png" type="image/png"/>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet"/>

    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;400;700&display=swap" rel="stylesheet"/>

    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
            crossorigin="anonymous"/>

    <script src="https://kit.fontawesome.com/30b5c3e166.js" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="/assets/css/navigation.css"/>
    <link rel="stylesheet" href="/assets/css/solveExam.css"/>
    <link rel="stylesheet" href="/assets/css/contact.css"/>
</head>
<body data-bs-spy="scroll" data-bs-target="#navbar">

<div th:replace="~{loadingCar :: loadingCar}"></div>
<div th:replace="~{navigation :: navigation-top}"></div>
<div th:replace="~{navigation :: navigation-left}"></div>

<main>
    <section class="exam">
        <div class="hero-img">
            <div class="hero-shadow"></div>
            <div class="box-exam">
                <div class="container">
                    <div class="box-container">
                    <div class="header-exam">
                        <p>Egzamin <span>Kategoria <th:block th:text="${category}"></th:block></span></p>
                        <p>Pytanie za <span><th:block th:text="${question.points}"></th:block> Punkty</span></p>
                        <p>Czas do końca <span id="timeToEnd" th:text="${timeToEnd}">25m 0s</span></p>
                    </div>
                    <div class="header-exam-info">
                        <div class="info-exam">
                            <div th:if="${!question.questionType}">
                                <p class="info">Część Podstawowa <span class="counter"><span
                                        th:text="${noSpecCounter}"></span> / 20</span></p>
                            </div>
                            <div th:if="${question.questionType}">
                                <p class="info">Część Specjalistyczna <span class="counter"><span
                                        th:text="${specCounter}"></span> / 12</span></p>
                            </div>
                            <div>
                                <th:block th:if="${question.getQuestionType()}">
                                    <p class="info">Czas na odpowiedź <span id="specificTimer"
                                                                            th:text="${question.getAllTimeForQuestion()} + 's'">XX s</span>
                                    </p>
                                </th:block>

                                <th:block th:if="${!question.getQuestionType()}">
                                    <p class="info noSpecificTimerToPrepare">Czas na przygotowanie <span
                                            id="noSpecificTimerToPrepare"
                                            th:text="${question.getTimeForPrepare()} + 's'">XX s</span>
                                    </p>
                                    <p class="info noSpecificTimerToThink">Czas na odpowiedź <span
                                            id="noSpecificTimerToThink"
                                            th:text="${question.getTimeForThink()} + 's'">XX s</span>
                                    </p>
                                </th:block>
                            </div>
                        </div>

                        <form th:action="@{/exam/end}" method="get" class="endExam">
                            <button><svg version="1.1" id="Uploaded to svgrepo.com" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="35px" height="35px" viewBox="0 0 32 32" xml:space="preserve" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <style type="text/css"> .avocado_een{fill:#110d0e;} .avocado_drie{fill:#ffa13d;} .avocado_zes{fill:#FFFAEE;} .st0{fill:#ffaa00;} .st1{fill:#EAD13F;} .st2{fill:#2d3c43;} .st3{fill:#DBD2C1;} .st4{fill:#3D3935;} .st5{fill:#6F9B45;} .st6{fill:#CC4121;} .st7{fill:#E598A3;} .st8{fill:#D36781;} .st9{fill:#8D3E93;} .st10{fill:#BF63C1;} .st11{fill:#A3AEB5;} .st12{fill:#AF9480;} .st13{fill:#0E608E;} .st14{fill:#248EBC;} .st15{fill:#D1712A;} .st16{fill:#C3CC6A;} </style> <g> <path class="avocado_zes" d="M1.521,11.518l10.163-4.209l4.209,10.163L5.73,21.68L1.521,11.518z M20.316,7.308l-3.234,7.808 l1.379,3.33l7.808,3.234l4.209-10.163L20.316,7.308z"></path> <polygon class="avocado_drie" points="21.567,25.944 17.082,15.116 20.316,7.308 18.469,6.543 16,12.503 13.531,6.543 11.684,7.308 15.893,17.471 13.538,18.446 10.433,25.944 12.28,26.709 16,17.729 19.72,26.709 "></polygon> <path class="avocado_een" d="M23.293,14.494l-2.772-1.148l1.148-2.772l2.772,1.148L23.293,14.494z M26.065,15.642 l-2.772-1.148l-1.148,2.772l2.772,1.148L26.065,15.642z M11.479,13.346l-1.148-2.772l-2.772,1.148l1.148,2.772L11.479,13.346z M8.707,14.494l-2.772,1.148l1.148,2.772l2.772-1.148L8.707,14.494z M26.54,22.333l-7.154-2.963l2.835,6.845l-2.772,1.148 L16,19.035l-3.449,8.327l-2.772-1.148l2.835-6.845L5.46,22.333L0.868,11.247l12.934-5.358L16,11.196l2.198-5.307l12.934,5.358 L26.54,22.333z M16.541,12.503l0.541,1.307l2.581-6.231l-0.924-0.383L16.541,12.503z M10.62,19.114l-0.765-1.848l2.772-1.148 l0.765,1.848L15.24,17.2l-0.765-1.848l-1.848,0.765l-1.148-2.772l1.848-0.765l-1.148-2.772l-1.848,0.765L9.565,8.727L6.794,9.875 l0.765,1.848l-2.772,1.148l-0.765-1.848l-1.848,0.765l0.765,1.848l1.848-0.765l1.148,2.772l-1.848,0.765l1.148,2.772l1.848-0.765 l0.765,1.848L10.62,19.114z M15.227,18.288l-1.307,0.541l-2.835,6.845l0.924,0.383L15.227,18.288z M20.914,25.674L13.261,7.196 l-0.924,0.383l7.654,18.478L20.914,25.674z M24.151,20.262l0.765-1.848l1.848,0.765l1.148-2.772l-1.848-0.765l1.148-2.772 l1.848,0.765l0.765-1.848l-1.848-0.765l-0.765,1.848l-2.772-1.148l0.765-1.848l-2.772-1.148l-0.765,1.848l-1.848-0.765 l-1.148,2.772l1.848,0.765l-1.148,2.772l-1.611-0.667l0.944,2.279l0.667-1.611l2.772,1.148l-0.765,1.848L24.151,20.262z"></path> </g> </g></svg></button>
                        </form>
                    </div>

                    <div class="container-exam">
                        <div class="exam-info">
                            <div id="prepareMedia" th:if="${!question.getQuestionType()}">
                                <div class="question-content">
                                    <p>Czas na zapoznanie się z treścią pytania.</p>

                                    <th:block th:if="${#strings.endsWith(question.mediaName, '.mp4')}">
                                        <div class="video-icon">
                                            <svg viewBox="0 0 1024 1024" class="icon" version="1.1"
                                                 xmlns="http://www.w3.org/2000/svg" fill="#000000">
                                                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                                <g id="SVGRepo_tracerCarrier" stroke-linecap="round"
                                                   stroke-linejoin="round"></g>
                                                <g id="SVGRepo_iconCarrier">
                                                    <path d="M915.69853 488.16395a24.362327 24.362327 0 0 0-23.738781-1.082247s-120.096629 60.272034-126.017759 63.231062c-18.772937 0-36.402195-0.032764-53.461148-0.061433 0-10.056602-1.082247-21.513878-1.082247-21.513879 0-20.174636-9.163774-38.090582-23.419329-50.440686 45.249588-31.853072 75.03646-84.232998 75.03646-143.614251 0-96.993681-78.921081-175.881997-175.914761-175.881998-37.868399 0-72.237157 11.581167-101.19673 32.55341-29.148991-20.972243-63.390788-32.55341-100.877278-32.55341-96.963988 0-175.885069 78.888317-175.885069 175.881998 0 56.197994 26.987569 105.778617 68.164142 137.983905a68.554242 68.554242 0 0 0-28.574592 41.941415h-49.834546c-4.646392-1.717056-69.05697-25.96778-69.05697-25.96778-7.445694-2.832067-15.846673-1.782584-22.465068 2.802374a24.363351 24.363351 0 0 0-10.564449 20.079416v168.882717a24.466764 24.466764 0 0 0 10.564449 20.112179c6.555938 4.581887 14.956917 5.601677 22.465068 2.799303 0 0 65.110916-24.501576 69.310893-26.030237h46.650263v118.952949c0 37.168061 30.615195 67.463804 68.196906 67.463804h329.23647c37.614475 0 68.164142-30.295743 68.164141-67.463804v-63.771673h56.32598c8.911898 4.454925 124.235174 61.989089 124.235174 61.989089 7.576751 3.753564 16.547011 3.372678 23.738781-1.082247a24.504647 24.504647 0 0 0 11.584238-20.813541V508.944726a24.449358 24.449358 0 0 0-11.584238-20.780776z"
                                                          fill="#27323A"></path>
                                                    <path d="M624.809637 493.892588c10.629977 0 37.708673 0 37.708673 34.844865v44.712049c0 13.46102 10.94943 24.407378 24.440143 24.407378l88.785192-0.253924c11.137825 0 28.069816-12.030653 102.659862-49.165949v184.601405c-37.360552-18.645976-94.001888-46.905211-94.001888-46.905211-3.438207-1.720127-7.638185-2.609884-11.457277-2.609884l-85.985889 0.065529c-13.490713 0-24.440143 10.945334-24.440143 24.440143v88.211816c0 10.244997-8.654903 18.583519-19.28488 18.583519H313.99696c-10.629977 0-19.317644-8.338522-19.317644-18.583519v-143.39514c0-13.493785-10.945334-24.440143-24.440143-24.440142h-77.519382c-2.926264 0-5.8556 1.273713-8.589374 2.290431 0 0-19.349385 7.257299-38.441774 14.44907v-98.332923c19.09239 7.191771 38.441775 14.477738 38.441774 14.477739 2.733774 1.01979 5.66311 2.196234 8.589374 2.196234h77.519382c13.493785 0 24.440143-10.945334 24.440143-24.440143v-10.310525c0-34.844865 35.78684-34.844865 46.412722-34.844866h283.717599z"
                                                          fill="#79CCBF"></path>
                                                    <path d="M381.587726 461.306414c-68.418065-1.879853-123.5676-57.792183-123.5676-126.623898 0-70.040923 56.996624-127.001712 127.005807-127.001712 32.713136 0 61.099333 10.851137 84.392724 32.299486 7.002352 6.491433 16.80503 7.794839 25.206009 4.614651 0.061433 0 0.061433 0 0.126962-0.032764 2.098965-0.795559 3.880525-2.102037 5.728638-3.469947 0.827299-0.603068 1.779513-0.856992 2.545379-1.55733 22.850049-21.128898 51.170717-31.853072 84.076344-31.853072 70.008159 0 127.034476 56.960788 127.034476 127.001711 0 68.832739-59.763163 126.623898-123.600365 126.623899H381.587726z"
                                                          fill="#F4CE73"></path>
                                                    <path d="M312.341338 333.283888c0 40.413778 32.905627 73.319404 73.384933 73.319404 40.413778 0 73.319404-32.905627 73.319404-73.319404 0-40.449614-32.905627-73.352169-73.319404-73.352168-40.479306 0-73.384933 32.902555-73.384933 73.352168z"
                                                          fill="#27323A"></path>
                                                    <path d="M344.928536 333.283888c0-22.46814 18.329595-40.765994 40.797735-40.765994 22.465068 0 40.73323 18.296831 40.73323 40.765994 0 22.465068-18.268162 40.73323-40.73323 40.73323-22.46814 0-40.797735-18.268162-40.797735-40.73323z"
                                                          fill="#FFFFFF"></path>
                                                    <path d="M514.477802 334.969203c0 40.413778 32.905627 73.319404 73.319405 73.319405 40.416849 0 73.319404-32.905627 73.319404-73.319405 0-40.446542-32.902555-73.352169-73.319404-73.352168-40.412754 0-73.319404 32.905627-73.319405 73.352168z"
                                                          fill="#27323A"></path>
                                                    <path d="M547.065001 334.969203c0-22.465068 18.268162-40.765994 40.73323-40.765994 22.46814 0 40.73323 18.300926 40.733229 40.765994 0 22.46814-18.26509 40.73323-40.733229 40.73323-22.466092-0.001024-40.73323-18.26509-40.73323-40.73323z"
                                                          fill="#FFFFFF"></path>
                                                </g>
                                            </svg>
                                        </div>
                                        <p>Kliknij w <strong>okienko</strong>, aby szybciej wyświetlić
                                            <strong>FILM</strong></p>
                                    </th:block>

                                    <th:block
                                            th:if="${#strings.endsWith(question.mediaName, '.jpg')} or ${question.mediaName.isEmpty()}">
                                        <div class="image-icon">
                                            <svg viewBox="0 0 24 24" data-name="multi color"
                                                 xmlns="http://www.w3.org/2000/svg" class="icon multi-color"
                                                 fill="#000000">
                                                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                                <g id="SVGRepo_tracerCarrier" stroke-linecap="round"
                                                   stroke-linejoin="round"></g>
                                                <g id="SVGRepo_iconCarrier">
                                                    <polygon id="tertiary-fill"
                                                             points="3.29 19.71 9 14 11 16 14 13 20.71 19.71 3.29 19.71"
                                                             style="fill: #b7b7b7; stroke-width: 2;"></polygon>
                                                    <path id="primary-stroke"
                                                          d="M20,20H4a1,1,0,0,1-1-1V5A1,1,0,0,1,4,4H20a1,1,0,0,1,1,1V19A1,1,0,0,1,20,20Zm.71-.29L14,13l-3,3L9,14,3.29,19.71Z"
                                                          style="fill: none; stroke: #000000; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;"></path>
                                                    <circle id="secondary-fill" cx="11" cy="9" r="1"
                                                            style="fill: #1d93a5; stroke: #f6921e; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;"></circle>
                                                </g>
                                            </svg>
                                        </div>
                                        <p>Kliknij w <strong>okienko</strong>, aby szybciej wyświetlić
                                            <strong>ZDJĘCIE</strong></p>
                                    </th:block>
                                </div>
                            </div>

                            <div id="media">
                                <th:block th:if="${!question.mediaName.isEmpty()}">
                                    <th:block th:if="${#strings.endsWith(question.mediaName, '.jpg')}">
                                        <img th:src="'/assets/Visualization_Of_Questions/' + ${question.mediaName}"
                                             th:alt="${question.mediaName}">
                                    </th:block>

                                    <th:block th:if="${#strings.endsWith(question.mediaName, '.mp4')}">
                                        <video autoplay muted>
                                            <source th:src="@{'/assets/Visualization_Of_Questions/' + ${question.mediaName}}"
                                                    type="video/mp4">
                                            Twoja przeglądarka nie wspiera tagu filmu.
                                        </video>
                                    </th:block>
                                </th:block>

                                <th:block th:if="${question.mediaName.isEmpty()}">
                                    <th:block th:replace="~{carAnimation :: driving-school-car}"></th:block>
                                </th:block>
                            </div>
                        </div>

                        <form hidden="hidden" th:action="@{/exam/action}" method="post" id="form">
                            <input type="hidden" name="questionId" th:value="${question.id}"/>
                            <input type="hidden" name="action"/>
                        </form>

                        <div th:if="${question.availableAnswers == 2}" class="normal-question">
                            <div class="info-container">
                                <p th:text="${question.question}" class="content">
                                    Czy w tej sytuacji bezposrednio za pojazdem uprzywilejowanym dozwolone jest
                                    poruszanie sie
                                    dowolonych pojazdow?
                                </p>
                            </div>

                            <div class="button-box">
                                <button id="no">Nie</button>
                                <button class="next" id="skip">Następne</button>
                                <button id="yes">Tak</button>
                            </div>
                        </div>

                        <div th:if="${question.availableAnswers == 3}" class="specific-question">
                            <div class="info-container">
                                <p th:text="${question.question}" class="content">
                                    Czy w tej sytuacji bezposrednio za pojazdem uprzywilejowanym dozwolone jest
                                    poruszanie sie
                                    dowolonych pojazdow?
                                </p>
                            </div>
                            <div class="button-box">
                                <button th:text="${question.answerA}" class="answer" id="answerA">Bezpieczny, mniejszy
                                    niz 1 metr.
                                </button
                                >
                                <button th:text="${question.answerB}" class="answer" id="answerB">Kazdy odstep, ale
                                    bezpieczny.
                                </button
                                >
                                <button th:text="${question.answerC}" class="answer" id="answerC">Nie mniejszy niz 1
                                    metr.
                                </button>
                                <button class="next" id="skip">Następne</button>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
            </div>
        </div>
    </section>

    <br/>
    <br/>

    <div th:replace="~{contact_footer :: contact}"></div>
</main>

<div th:replace="~{contact_footer :: footer}"></div>

<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script src="/assets/js/solveExam.js"></script>
<script src="/assets/js/aosSettings.js"></script>
<script src="/assets/js/navigation.js"></script>

</body>
</html>